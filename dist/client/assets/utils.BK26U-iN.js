const t={soffit_panel_aluminum:22,soffit_panel_vinyl:9,j_channel:7,fascia_6:17,nails:13},a={soffit_fascia:{name:"Soffit and Fascia",description:"Complete installation with soffit panels and fascia",requires_fascia:!0},double_j:{name:"Double J",description:"Soffit with J-channel only (no fascia replacement)",requires_fascia:!1}},e={remove_replace:1.3,new_construction:1,repair:.8},i={vinyl:{multiplier:1,durability:20,description:"Vinyl - Economical and low maintenance"},aluminum:{multiplier:1,durability:30,description:"Aluminum - Durable and corrosion resistant"}};class s{constructor(){this.laborCostPerFoot=6,this.taxRate=.065,this.materialCosts=t}calculateMaterialQuantities(t,e,i,s="aluminum"){const n=a[i]||a.soffit_fascia,l="vinyl"===s?1:16/12,r=Math.ceil(e/l),o=12*Math.ceil(t*r/12),c=Math.ceil(t/12)*("double_j"===i?2:1),u=n.requires_fascia?Math.ceil(t/12):0,f=Math.ceil(t/100);return{soffit_panels:Math.ceil(o/12),j_channel:c,fascia:u,nails:f,installation_type:n}}calculateCostEstimate(t,a,i,s,n){const l=this.calculateMaterialQuantities(t,a,i,s),r=e[n.serviceType]||1,o="vinyl"===s?this.materialCosts.soffit_panel_vinyl:this.materialCosts.soffit_panel_aluminum,c=l.soffit_panels*o,u=l.j_channel*this.materialCosts.j_channel,f=l.fascia*this.materialCosts.fascia_6,m=l.nails*this.materialCosts.nails,p=(c+u+f+m)*r,h=t*this.laborCostPerFoot*r,d=p+h,_=t>=290,y=_?.05*d:0,C=d-y;let b=C;"repair"===n.serviceType&&C<250&&(b=250);const v=b*this.taxRate,M=b+v;return{materialCost:p,laborCost:h,totalCost:b,linearFeet:t,overhangFeet:a,quantities:l,taxRate:this.taxRate,taxAmount:v,finalTotal:M,volumeDiscountApplied:_,discountAmount:y,repairMinimumApplied:"repair"===n.serviceType&&C<250,materialBreakdown:{soffit:c,jChannel:u,fascia:f,nails:m}}}calculateMaterialOptions(t,a,e,s,n){const l=this.calculateCostEstimate(t,a,e,s,n),r=i[s];return[{material:{name:s,durabilityYears:r.durability,description:r.description},estimate:l,costPerYear:l.finalTotal/r.durability}]}validateMeasurements(t,a){const e=[];return t<10&&e.push("Linear feet must be at least 10 feet"),t>2e3&&e.push("Linear feet cannot exceed 2000 feet"),a<.5&&e.push("Overhang must be at least 0.5 feet"),a>10&&e.push("Overhang cannot exceed 10 feet"),{isValid:0===e.length,errors:e}}validateZipCode(t){if(5!==t.length)return!1;const a=parseInt(t);return a>=32e3&&a<=34999}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}getMaterialInfo(t){const a=i[t]||i.aluminum;return{name:t,durabilityYears:a.durability,description:a.description}}getInstallationTypes(){return a}getMaterialCosts(){return this.materialCosts}}export{s as SoffitCalculator,s as default};
