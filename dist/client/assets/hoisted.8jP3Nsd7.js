import"./hoisted.DV8WBEkX.js";let t,e=60;const n=document.getElementById("countdown"),o=document.getElementById("retry-btn");function r(){const r=Math.floor(e/60),a=e%60;n.textContent=`${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`,e<=0?(n.textContent="00:00",o.disabled=!1,o.classList.remove("opacity-50","cursor-not-allowed"),o.classList.add("hover:bg-bubble-secondary"),clearInterval(t)):e--}e=function(){try{const t=document.querySelector('meta[name="retry-after"]');if(t){const e=parseInt(t.content);if(!isNaN(e)&&e>0)return e}const e=performance.getEntriesByType("navigation");if(e.length>0){const t=e[0];if(t.responseEnd-t.responseStart>1e3)return 60}}catch(t){}return 60}(),t=setInterval(r,1e3),r(),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(t=>{t.active&&t.active.postMessage({action:"cancelPendingRequests"})})}),"caches"in window&&caches.keys().then(t=>{t.forEach(t=>{(t.includes("api")||t.includes("request"))&&caches.delete(t)})});try{const t=Date.now();localStorage.setItem("rateLimitTime",t.toString()),localStorage.setItem("rateLimitDuration","60000")}catch(d){}const a=window.fetch;let c=0,i=Date.now();window.fetch=function(t,e={}){const n=Date.now();return n-i>36e5&&(c=0,i=n),c>=90?new Promise((t,e)=>{setTimeout(()=>{c++,a.apply(this,arguments).then(t).catch(e)},1e3)}):(c++,a.apply(this,arguments))};let s=0;document.addEventListener("submit",t=>{const e=Date.now();if(e-s<1e3)return t.preventDefault(),!1;s=e});let l=0;document.addEventListener("click",t=>{if("BUTTON"===t.target.tagName||t.target.closest("button")){const e=Date.now();if(e-l<500)return t.preventDefault(),t.stopPropagation(),!1;l=e}}),o.addEventListener("click",()=>{window.location.reload()});
