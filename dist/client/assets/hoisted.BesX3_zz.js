import"./hoisted.DV8WBEkX.js";const e=[{src:"/images/works/work1.jpeg",alt:"Professional soffit and fascia project in residential Orlando FL - Bubbles Enterprise"},{src:"/images/works/work2.jpeg",alt:"Commercial soffit installation services in Orlando FL - Expert contractors"},{src:"/images/works/work3.jpeg",alt:"Fascia repair project in Winter Park FL - Quality soffit and fascia solutions"},{src:"/images/works/work4.jpeg",alt:"New construction soffit and fascia installation Orlando FL - Licensed experts"},{src:"/images/works/work5.jpeg",alt:"Residential soffit replacement in Orlando area - Durable materials guaranteed"},{src:"/images/works/work6.jpeg",alt:"Soffit design project for homes in Orlando FL - 10+ years experience"},{src:"/images/works/work7.jpeg",alt:"Residential fascia installation Orlando FL - Professional craftsmanship"},{src:"/images/works/work8.jpeg",alt:"Commercial soffit services in Winter Park FL - Trusted local contractors"},{src:"/images/works/work9.jpeg",alt:"Fascia maintenance and repair in Orlando FL - Satisfaction guaranteed"},{src:"/images/works/work10.jpeg",alt:"Complete soffit and fascia project in Orlando FL - Full-service solutions"},{src:"/images/works/work11.jpeg",alt:"Advanced soffit and fascia installation for luxury homes Orlando"},{src:"/images/works/work12.jpeg",alt:"Comprehensive soffit and fascia renovation project Orlando FL"}];let t=0;function n(){const n=document.getElementById("lightboxImage"),o=document.getElementById("lightboxCaption")?.querySelector("p"),s=e[t];n&&o&&(n.src=s.src,n.alt=s.alt,o.textContent=s.alt)}function o(){const e=document.getElementById("lightboxModal");e&&(e.classList.add("hidden"),document.body.style.overflow="auto")}function s(){t=(t+1)%e.length,n()}function r(){t=(t-1+e.length)%e.length,n()}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".project-item").forEach((e,o)=>{const s=e.querySelector(".project-image");s&&s.addEventListener("error",()=>{s.src="https://placehold.co/400x300"}),e.addEventListener("click",()=>function(e){t=e,n();const o=document.getElementById("lightboxModal");o&&(o.classList.remove("hidden"),document.body.style.overflow="hidden")}(o))});const e=document.getElementById("closeLightbox"),a=document.getElementById("prevLightbox"),i=document.getElementById("nextLightbox"),l=document.getElementById("lightboxModal");e&&e.addEventListener("click",o),a&&a.addEventListener("click",r),i&&i.addEventListener("click",s),l&&l.addEventListener("click",e=>{e.target===l&&o()}),document.addEventListener("keydown",e=>{l&&!l.classList.contains("hidden")&&("Escape"===e.key?o():"ArrowLeft"===e.key?r():"ArrowRight"===e.key&&s())})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("featured-chatbot-mount");if(!e)return;let t=[],n=!1,o=!1,s=null;async function r(){s||(s=function(){const e=new Date;return`B${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}${String(e.getFullYear()).slice(-2)}${String(Math.floor(999*Math.random())+1).padStart(3,"0")}`}());const e={sessionId:s,messages:t,isExpanded:o,timestamp:(new Date).toISOString(),lastActivity:Date.now()};try{if(localStorage.setItem("bubbles_chat_session",JSON.stringify(e)),t.length>0)try{const e=await fetch("/api/chat/save-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,messages:t,isExpanded:o,timestamp:(new Date).toISOString()})});if(e.ok){(await e.json()).success}}catch(n){}}catch(n){}}function a(){if(!o){const t='\n          <div class="bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden">\n            \x3c!-- Header minimalizado --\x3e\n            <div class="bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-center">\n              <h2 class="text-2xl font-bold text-white mb-2">Get Quote in Seconds</h2>\n              <p class="text-blue-100 text-lg">Tell us what you need!</p>\n            </div>\n            \n            \x3c!-- Input simples --\x3e\n            <div class="p-6 bg-white">\n              <div class="flex gap-3">\n                <input\n                  type="text"\n                  id="simple-input"\n                  placeholder="Describe your soffit project..."\n                  class="flex-1 p-4 border-2 border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"\n                  onkeypress="handleSimpleInputKeyPress(event)"\n                />\n                <button\n                  onclick="sendSimpleMessage()"\n                  class="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white p-4 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center min-w-[60px]"\n                >\n                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />\n                  </svg>\n                </button>\n              </div>\n              <p class="text-sm text-gray-500 mt-3 text-center">\n                üí° Example: "I need to replace vinyl soffit on my 150 sqft house"\n              </p>\n            </div>\n          </div>\n        ';return void(e.innerHTML=t)}const s=`\n        <div class="bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden">\n          \x3c!-- Header expandido --\x3e\n          <div class="bg-gradient-to-r from-blue-600 to-blue-800 p-6 text-center relative">\n            \x3c!-- Bot√µes do header --\x3e\n            <div class="absolute top-4 right-4 flex gap-2">\n              <button onclick="clearChat()" class="text-white hover:text-red-200 transition-colors" title="Limpar conversa">\n                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />\n                </svg>\n              </button>\n              <button onclick="minimizeChat()" class="text-white hover:text-gray-200 transition-colors" title="Minimizar chat">\n                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />\n                </svg>\n              </button>\n            </div>\n            \n            \x3c!-- Indicador de salvamento --\x3e\n            <div class="absolute top-4 left-4 flex items-center gap-2">\n              <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse" title="Conversa salva automaticamente"></div>\n              <span class="text-xs text-blue-100">Auto-save</span>\n            </div>\n            \n            <h2 class="text-2xl font-bold text-white mb-2">Get Quote in Seconds</h2>\n            <p class="text-blue-100 text-lg">Tell us what you need!</p>\n            \n            \x3c!-- Status da conversa --\x3e\n            ${t.length>0?`\n              <div class="mt-2">\n                <span class="text-xs text-blue-200">${t.length} mensagem${t.length>1?"s":""} ‚Ä¢ Conversa salva</span>\n              </div>\n            `:""}\n          </div>\n\n          \x3c!-- √Årea de mensagens --\x3e\n          <div class="min-h-[400px] max-h-[500px] overflow-y-auto p-6 bg-gray-50" id="messages-container">\n            ${0===t.length?'\n              <div class="text-center text-gray-500 mt-20">\n                <svg class="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />\n                </svg>\n                <p class="text-lg font-medium mb-2">Ready to help!</p>\n                <p class="text-sm">Ask your question about aluminum or vinyl soffit</p>\n              </div>\n            ':i()}\n          </div>\n\n          \x3c!-- Input Area --\x3e\n          <div class="p-6 bg-white border-t border-gray-200">\n            <div class="flex gap-3">\n              <textarea\n                id="message-input"\n                placeholder="Describe your soffit project..."\n                class="flex-1 p-4 border-2 border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"\n                rows="3"\n                ${n?"disabled":""}\n              ></textarea>\n              <button\n                onclick="sendMessage()"\n                class="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white p-4 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center min-w-[60px]"\n                ${n?"disabled":""}\n              >\n                ${n?'\n                  <svg class="animate-spin w-6 h-6" fill="none" viewBox="0 0 24 24">\n                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n                    <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n                  </svg>\n                ':'\n                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />\n                  </svg>\n                '}\n              </button>\n            </div>\n            <p class="text-sm text-gray-500 mt-3 text-center">\n              üí° Example: "I need to replace vinyl soffit on my 150 sqft house"\n            </p>\n          </div>\n        </div>\n      `;e.innerHTML=s;const r=document.getElementById("message-input");r&&r.addEventListener("keypress",e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sendMessage())})}function i(){let e="";return t.forEach(t=>{const n="user"===t.role||"user"===t.type;e+=`\n          <div class="flex ${n?"justify-end":"justify-start"}">\n            <div class="max-w-[85%] p-3 rounded-lg ${n?"bg-blue-600 text-white":"bg-white text-gray-800 shadow-sm border"}">\n              <p class="text-sm whitespace-pre-wrap">${t.content}</p>\n              <span class="text-xs opacity-70 mt-1 block">\n                ${t.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}\n              </span>\n            </div>\n          </div>\n        `}),n&&(e+='\n          <div class="flex justify-start">\n            <div class="bg-white p-3 rounded-lg shadow-sm border">\n              <div class="flex space-x-1">\n                <div class="w-2 h-2 bg-blue-600 rounded-full animate-bounce"></div>\n                <div class="w-2 h-2 bg-blue-600 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>\n                <div class="w-2 h-2 bg-blue-600 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>\n              </div>\n            </div>\n          </div>\n        '),e}async function l(e){n=!0;const o=document.getElementById("messages-container");o&&(o.innerHTML=i(),o.scrollTop=o.scrollHeight);try{const n=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,conversationHistory:t.slice(0,-1).map(e=>({role:e.role||e.type,content:e.content}))})}),o=await n.json();if(!o.success)throw new Error(o.error);{const e={type:"assistant",content:o.message,timestamp:new Date};t.push(e),r()}}catch(s){const e={type:"assistant",content:"Sorry, an error occurred. Please try again in a few moments.",timestamp:new Date};t.push(e),r()}finally{n=!1;const e=document.getElementById("messages-container");e&&(e.innerHTML=i(),e.scrollTop=e.scrollHeight);const t=document.getElementById("message-input");t&&(t.disabled=!1)}}window.sendMessage=async function(){const e=document.getElementById("message-input");if(!e)return;const o=e.value.trim();if(!o||n)return;const s={type:"user",content:o,timestamp:new Date};t.push(s),e.value="",r(),await l(o),setTimeout(()=>{const e=document.getElementById("message-input");e&&e.addEventListener("keypress",e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sendMessage())})},100)},window.handleSimpleInputKeyPress=function(e){"Enter"===e.key&&(e.preventDefault(),sendSimpleMessage())},window.sendSimpleMessage=function(){const e=document.getElementById("simple-input");if(!e||!e.value.trim())return;const n=e.value.trim();e.value="",o=!0,t.push({type:"user",content:n,timestamp:new Date}),r(),a(),l(n)},window.expandChat=function(){o=!0,a(),setTimeout(()=>{const e=document.getElementById("message-input");e&&e.focus()},100)},window.minimizeChat=function(){o=!1,r(),a()},window.clearChat=function(){confirm("Tem certeza que deseja limpar toda a conversa? Esta a√ß√£o n√£o pode ser desfeita.")&&(t=[],o=!1,function(){try{localStorage.removeItem("bubbles_chat_session")}catch(e){}}(),a())};!function(){try{const e=localStorage.getItem("bubbles_chat_session");if(e){const n=JSON.parse(e),r=864e5;if(Date.now()-n.lastActivity<r&&n.messages&&n.messages.length>0)return t=n.messages.map(e=>({...e,timestamp:new Date(e.timestamp)})),o=n.isExpanded||!1,s=n.sessionId,!0}}catch(e){}}();a()}),window.openServiceModal=function(e){const t=document.getElementById("service-modal-root");if(!t)return;let n,o,s;switch(t.innerHTML="",e){case"repair":n="Get Your Repair Now",o="Send your repair information and receive a quick quote",s=!0;break;case"remove-replace":n="Request Removal and Replacement",o="Provide your property details for a personalized quote",s=!0;break;case"new-construction":n="New Construction Quote",o="Tell us about your construction project",s=!1;break;default:n="Request Quote",o="Fill in the information below",s=!1}const r=`\n      <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" id="modal-overlay">\n        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">\n          \x3c!-- Header --\x3e\n          <div class="p-6 border-b border-gray-200">\n            <div class="flex justify-between items-center">\n              <div>\n                <h2 class="text-2xl font-bold text-gray-900">${n}</h2>\n                <p class="text-gray-600 mt-1">${o}</p>\n              </div>\n              <button onclick="closeServiceModal()" class="text-gray-400 hover:text-gray-600 transition-colors">\n                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          \x3c!-- Form --\x3e\n          <form onsubmit="handleServiceFormSubmit(event)" class="p-6 space-y-6" enctype="multipart/form-data">\n            \x3c!-- Contact Info --\x3e\n            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n              <div>\n                <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo *</label>\n                <input type="text" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />\n              </div>\n              <div>\n                <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>\n                <input type="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />\n              </div>\n            </div>\n\n            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">\n              <div>\n                <label class="block text-sm font-medium text-gray-700 mb-2">Telefone *</label>\n                <input type="tel" name="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />\n              </div>\n              <div>\n                <label class="block text-sm font-medium text-gray-700 mb-2">Gate Code (se aplic√°vel)</label>\n                <input type="text" name="gateCode" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />\n              </div>\n            </div>\n\n            \x3c!-- Address --\x3e\n            <div>\n              <label class="block text-sm font-medium text-gray-700 mb-2">Endere√ßo Completo *</label>\n              <input type="text" name="address" required placeholder="Rua, n√∫mero, cidade, CEP" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />\n            </div>\n\n            \x3c!-- Description --\x3e\n            <div>\n              <label class="block text-sm font-medium text-gray-700 mb-2">Project Description *</label>\n              <textarea name="description" required rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none" placeholder="Descreva detalhadamente..."></textarea>\n            </div>\n\n            ${s?`\n            \x3c!-- Photos --\x3e\n            <div>\n              <label class="block text-sm font-medium text-gray-700 mb-2">Photos ${"repair"===e?"(required for repairs)":"(optional)"}</label>\n              <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors">\n                <input type="file" multiple accept="image/*" name="photos" class="hidden" id="photos-upload" ${"repair"===e?"required":""} />\n                <label for="photos-upload" class="cursor-pointer">\n                  <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />\n                  </svg>\n                  <p class="text-gray-600">Clique para selecionar fotos</p>\n                  <p class="text-sm text-gray-500 mt-1">PNG, JPG at√© 10MB cada (m√°x. 5 fotos)</p>\n                </label>\n              </div>\n            </div>\n            `:""}\n\n            \x3c!-- Submit Button --\x3e\n            <div class="flex gap-4 pt-4">\n              <button type="button" onclick="closeServiceModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">\n                Cancelar\n              </button>\n              <button type="submit" class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">\n                Enviar Solicita√ß√£o\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    `;t.innerHTML=r},window.closeServiceModal=function(){const e=document.getElementById("service-modal-root");e&&(e.innerHTML="")},window.handleServiceFormSubmit=async function(e){e.preventDefault();const t=e.target,n=new FormData(t);try{const e=await fetch("/api/quote",{method:"POST",body:n}),t=await e.json();t.success?window.location.href="/thank-you":alert("Error sending request: "+(t.message||"Please try again"))}catch(o){alert("Error sending request. Please try again.")}closeServiceModal()},document.addEventListener("keydown",function(e){"Escape"===e.key&&closeServiceModal()}),document.addEventListener("click",function(e){e.target&&"modal-overlay"===e.target.id&&closeServiceModal()});
