import"./hoisted.DV8WBEkX.js";const e={};async function t(){const{default:t}=await function(t,n){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=t?.nonce||t?.getAttribute("nonce");a=Promise.allSettled(n.map(t=>{if((t=function(e){return"/"+e}(t))in e)return;e[t]=!0;const n=t.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${a}`))return;const i=document.createElement("link");return i.rel=n?"stylesheet":"modulepreload",n||(i.as="script"),i.crossOrigin="",i.href=t,o&&i.setAttribute("nonce",o),document.head.appendChild(i),n?new Promise((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(e=>{for(const t of e||[])"rejected"===t.status&&o(t.reason);return t().catch(o)})}(async()=>{const{default:e}=await import("./utils.BK26U-iN.js");return{default:e}},[]),n=new t;window.toggleInstallationInfoModal=function(){document.getElementById("installation-info-modal").classList.toggle("hidden")},window.toggleOverhangInfoModal=function(){document.getElementById("overhang-info-modal").classList.toggle("hidden")},window.handleMaterialChange=function(){const e=document.getElementById("material-type"),t=document.getElementById("installation-type"),n=t.querySelector('option[value="double_j"]');"vinyl"===e.value?(n.style.display="none",n.disabled=!0,"double_j"===t.value&&(t.value="soffit_fascia")):(n.style.display="block",n.disabled=!1)};const a=document.getElementById("calculator-form"),o=document.getElementById("results"),i=document.getElementById("error-messages"),l=document.getElementById("linear-feet-display"),d=document.getElementById("overhang-display"),r=document.getElementById("installation-display"),s=document.getElementById("material-options"),c=document.getElementById("volume-discount"),m=document.getElementById("error-list"),u=document.getElementById("measurement-help"),g=document.getElementById("overhang-help");u&&u.addEventListener("click",function(){alert("How to measure linear feet:\n\n1. Measure the perimeter of your house where soffit will be installed\n2. Include all eaves, overhangs, and areas needing soffit\n3. Do not include gable ends unless they also need soffit\n4. Add all measurements together for total linear feet")}),g&&g.addEventListener("click",function(){alert('Overhang depth explanation:\n\nThis is the distance from your house wall to the fascia board (edge of roof).\n\nCommon depths:\n• 12-16 inches: Standard residential\n• 18-24 inches: Wider overhangs\n• 24+ inches: Deep overhangs\n\nThis affects material usage because soffit panels are 16" wide.')});const y=document.getElementById("installation-info-modal-btn"),v=document.getElementById("close-installation-modal"),f=document.getElementById("installation-info-modal"),p=document.getElementById("overhang-info-modal-btn"),h=document.getElementById("close-overhang-modal"),E=document.getElementById("overhang-info-modal");y&&y.addEventListener("click",window.toggleInstallationInfoModal),v&&v.addEventListener("click",window.toggleInstallationInfoModal),f&&f.addEventListener("click",function(e){e.target===f&&window.toggleInstallationInfoModal()}),p&&p.addEventListener("click",window.toggleOverhangInfoModal),h&&h.addEventListener("click",window.toggleOverhangInfoModal),E&&E.addEventListener("click",function(e){e.target===E&&window.toggleOverhangInfoModal()}),window.handleMaterialChange();const I=document.getElementById("estimate-form");I&&I.addEventListener("submit",async function(e){e.preventDefault();const t=new FormData(I);try{const e=await fetch("/api/estimate",{method:"POST",body:t}),n=await e.json();n.success?window.location.href="/thank-you":alert("Error sending estimate: "+(n.message||"Please try again"))}catch(n){alert("Error sending estimate. Please try again.")}}),a.addEventListener("submit",function(e){e.preventDefault(),o.classList.add("hidden"),i.classList.add("hidden");const t=new FormData(a),u=parseFloat(t.get("overhang")),g={linearFeet:parseFloat(t.get("linearFeet")),overhang:u/12,overhangInches:u,installationType:t.get("installationType"),materialType:t.get("materialType"),serviceType:t.get("serviceType"),zipCode:t.get("zipCode"),discountCode:t.get("discountCode")},y=n.validateMeasurements(g.linearFeet,g.overhang);if(n.validateZipCode(g.zipCode)||(y.errors.push("Zip Code must be valid for Orlando (32000-34999)"),y.isValid=!1),!y.isValid)return v=y.errors,m.innerHTML=v.map(e=>`<li>• ${e}</li>`).join(""),void i.classList.remove("hidden");var v;const f={serviceType:g.serviceType,zipCode:g.zipCode,propertyType:"residential"},p=n.calculateMaterialOptions(g.linearFeet,g.overhang,g.installationType,g.materialType,f);!function(e,t,a,i,m){l.textContent=`${e.toFixed(2)} ft`,d.textContent=`${m.toFixed(0)} in`,r.textContent="soffit_fascia"===a?"Soffit and Fascia":"Double J",s.innerHTML=i.map(e=>{const t=e.material,a=e.estimate;return`\n          <div class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow">\n            <h4 class="font-semibold text-lg text-gray-900 mb-2 capitalize">\n              ${t.name.replace("_"," ")}\n            </h4>\n            <p class="text-sm text-gray-600 mb-4">${t.description}</p>\n            \n            <div class="text-center py-6">\n              <div class="text-3xl font-bold text-blue-600 mb-2">\n                ${n.formatCurrency(a.finalTotal)}\n              </div>\n              <div class="text-sm text-gray-500">\n                Complete installation price\n              </div>\n              ${a.volumeDiscountApplied?'\n                <div class="mt-2 text-sm text-green-600 font-medium">\n                  ✓ Volume discount applied\n                </div>\n              ':""}\n            </div>\n            \n            <div class="border-t pt-4">\n              <div class="text-xs text-gray-500 text-center">\n                ${n.formatCurrency(e.costPerYear)}/year over ${t.durabilityYears} years\n              </div>\n            </div>\n          </div>\n        `}).join(""),i[0].estimate.volumeDiscountApplied&&c.classList.remove("hidden");o.classList.remove("hidden");document.getElementById("estimate-form-section").classList.remove("hidden"),document.getElementById("calc-linear-feet").value=e,document.getElementById("calc-overhang").value=t,document.getElementById("calc-installation-type").value=a,document.getElementById("calc-material-type").value=document.getElementById("material-type").value,document.getElementById("calc-service-type").value=document.getElementById("service-type").value,document.getElementById("calc-zip-code").value=document.getElementById("zip-code").value,document.getElementById("calc-total-price").value=i[0].estimate.finalTotal,document.getElementById("calc-material-options").value=JSON.stringify(i)}(g.linearFeet,g.overhang,g.installationType,p,g.overhangInches)})}"undefined"!=typeof window&&window.LazyScriptLoader?window.LazyScriptLoader.registerScript("calculator",{priority:"interaction",triggers:["#calculator-form","input","select","button"],callback:function(){t()}}):document.addEventListener("DOMContentLoaded",function(){t()});
